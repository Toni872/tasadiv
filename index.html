<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="TasaDiv - Tasas de cambio y convertidor de divisas para toda LatinoamÃ©rica">
    <meta name="keywords" content="tasas cambio, tasas divisas, USD VES, EUR VES, ARS, BRL, CLP, COP, MXN, PEN, UYU, convertidor divisas, latinoamerica">
    <meta name="author" content="TasaDiv">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#E31E3D">
    <!-- AdSense (solo desktop; slot configurado en el body) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=pub-9763593418776570" crossorigin="anonymous"></script>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="logo.svg">
    
    <!-- SEO Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "TasaDiv",
      "description": "Tasas de cambio y convertidor de divisas para 18 monedas de LatinoamÃ©rica en tiempo real",
      "url": "https://tasadiv.vercel.app",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "156"
      }
    }
    </script>
    
    <title>TasaDiv - Tasas de Cambio para LatinoamÃ©rica</title>
    <link rel="stylesheet" href="styles.css?v=2.0">
</head>
<body>
    <div class="container">
        <header>
            <!-- Language Selector -->
            <div class="language-selector">
                <button class="lang-button" id="lang-button">
                    <svg class="lang-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="2" y1="12" x2="22" y2="12"></line>
                        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                    </svg>
                    <span id="current-lang">EN</span>
                    <svg class="arrow-icon" width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                        <path d="M6 9L1 4h10z"></path>
                    </svg>
                </button>
                <div class="lang-dropdown" id="lang-dropdown">
                    <button class="lang-option" data-lang="en">
                        <span class="flag">ðŸ‡ºðŸ‡¸</span>
                        <span>English</span>
                        <span class="check">âœ“</span>
                    </button>
                    <button class="lang-option" data-lang="es">
                        <span class="flag">ðŸ‡ªðŸ‡¸</span>
                        <span>EspaÃ±ol</span>
                        <span class="check">âœ“</span>
                    </button>
                </div>
            </div>

            <div class="banner">
                <div class="banner-badge">LIVE DATA</div>
                <h1 class="banner-title">TasaDiv</h1>
                <p class="banner-subtitle">Real-Time Exchange Rates â€¢ 18 LATAM Currencies â€¢ API-Powered</p>
                <div class="banner-metrics">
                    <div class="metric">
                        <span class="metric-value">18</span>
                        <span class="metric-label">Currencies</span>
                    </div>
                    <div class="metric">
                        <span class="metric-value">&lt;300ms</span>
                        <span class="metric-label">Response Time</span>
                    </div>
                    <div class="metric">
                        <span class="metric-value">99.9%</span>
                        <span class="metric-label">Uptime</span>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <!-- Panel de monedas LATAM -->
            <section class="latam-rates-panel open" id="latam-panel">
                <div class="panel-header">
                    <h3>Latin American Currencies</h3>
                    <span class="panel-badge">Real-Time Data</span>
                </div>
                <div class="latam-rates-grid" id="latam-rates-grid">
                    <!-- Las monedas se cargarÃ¡n dinÃ¡micamente -->
                </div>
            </section>

            <!-- Market Overview -->
            <section class="market-overview">
                <div class="market-header">
                    <h3>Market Overview</h3>
                    <span class="market-badge">Live</span>
                </div>
                <div class="market-grid">
                    <!-- Bitcoin -->
                    <div class="market-card crypto" id="btc-card">
                        <div class="market-icon">â‚¿</div>
                        <div class="market-info">
                            <div class="market-name">Bitcoin</div>
                            <div class="market-price" id="btc-price">Loading...</div>
                        </div>
                        <div class="market-change" id="btc-change">--%</div>
                    </div>

                    <!-- Ethereum -->
                    <div class="market-card crypto" id="eth-card">
                        <div class="market-icon">Îž</div>
                        <div class="market-info">
                            <div class="market-name">Ethereum</div>
                            <div class="market-price" id="eth-price">Loading...</div>
                        </div>
                        <div class="market-change" id="eth-change">--%</div>
                    </div>

                    <!-- LATAM Stats -->
                    <div class="market-card stats" id="latam-stats">
                        <div class="market-icon">ðŸ“Š</div>
                        <div class="market-info">
                            <div class="market-name">LATAM Average</div>
                            <div class="market-price" id="latam-avg">Loading...</div>
                        </div>
                        <div class="market-label">Per USD</div>
                    </div>
                </div>
            </section>

            <!-- AdSense Desktop -->
            <section class="ad-slot ad-slot-desktop">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="pub-9763593418776570"
                     data-ad-slot="7128919002"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
                <script>
                    // Seguimiento de viewability (GTAG si estÃ¡ disponible)
                    (function() {
                        const adEl = document.querySelector('.ad-slot-desktop .adsbygoogle');
                        if (!adEl || !('IntersectionObserver' in window)) return;

                        const observer = new IntersectionObserver((entries) => {
                            entries.forEach(entry => {
                                if (entry.isIntersecting && entry.intersectionRatio > 0.5) {
                                    const ratioPct = Math.round(entry.intersectionRatio * 100);
                                    if (window.gtag) {
                                        window.gtag('event', 'ad_viewability', {
                                            event_category: 'adsense',
                                            event_label: 'ad-slot-desktop-1',
                                            value: ratioPct
                                        });
                                    } else {
                                        console.log('[ad_viewability]', 'ad-slot-desktop-1', ratioPct + '%');
                                    }
                                    observer.unobserve(adEl);
                                }
                            });
                        }, { threshold: [0.25, 0.5, 0.75, 1] });

                        observer.observe(adEl);
                    })();
                </script>
            </section>

            <!-- Convertidor de Divisas -->
            <section class="converter" id="graficos">
                <h2>Currency Converter</h2>
                <p class="subtitle">Instant Conversion â€¢ Bidirectional Exchange</p>

                <div class="converter-grid">
                    <!-- Moneda LATAM seleccionada -->
                    <div class="converter-card">
                        <div class="card-label">
                            <span id="latam-title">Select Currency</span>
                            <span class="hint">Click any LATAM currency below</span>
                        </div>
                        <div class="input-wrapper">
                            <input type="number" id="latam-input" placeholder="0.00" step="0.01" disabled>
                            <span class="currency-tag" id="latam-label">---</span>
                        </div>
                    </div>

                    <!-- De USD -->
                    <div class="converter-card">
                        <div class="card-label">
                            <span>United States Dollar</span>
                        </div>
                        <div class="input-wrapper">
                            <input type="number" id="usd-input" placeholder="0.00" step="0.01">
                            <span class="currency-tag">USD</span>
                        </div>
                    </div>

                    <!-- De EUR -->
                    <div class="converter-card">
                        <div class="card-label">
                            <span>Euro</span>
                        </div>
                        <div class="input-wrapper">
                            <input type="number" id="eur-input" placeholder="0.00" step="0.01">
                            <span class="currency-tag">EUR</span>
                        </div>
                    </div>
                </div>

                <div class="converter-actions">
                    <button id="clear-btn" class="clear-btn">Clear All</button>
                </div>
            </section>
        </main>

        <footer>
            <div class="footer-content">
                <p>&copy; 2025 TasaDiv. All rights reserved.</p>
                <div class="footer-badges">
                    <span class="footer-badge">PWA Enabled</span>
                    <span class="footer-badge">API-Powered</span>
                    <span class="footer-badge">Real-Time</span>
                </div>
            </div>
        </footer>
    </div>

    <script src="script.js?v=2.0"></script>
</body>
</html>
